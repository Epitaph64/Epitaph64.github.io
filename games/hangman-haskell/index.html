<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Hangman in Haskell</title> <meta name="description" content="The website of Epitaph64 / Walter Macfarland."> <link rel="stylesheet" href="/css/main.css"> <link rel="canonical" href="http://e64.us/games/hangman-haskell/"> <link rel="alternate" type="application/rss+xml" title="e64.us" href="http://e64.us/feed.xml" /> </head> <body> <header class="site-header"> <div class="wrapper"> <a class="site-title" href="/">e64.us</a> <nav class="site-nav"> <a href="#" class="menu-icon"> <svg viewBox="0 0 18 15"> <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/> <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/> <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/> </svg> </a> <div class="trigger"> <a class="page-link" href="/about-me/">About Me</a> <a class="page-link" href="/projects/">Projects</a> </div> </nav> </div> </header> <br> <div class="page-content"> <div class="wrapper"> <div class="post"> <header class="post-header"> <h1 class="post-title">Hangman in Haskell</h1> </header> <article class="post-content"><br> <p>First and foremost - the code:</p> <div class="highlight"><pre><code class="language-haskell" data-lang="haskell"><span class="kr">import</span> <span class="nn">System.IO</span>
<span class="kr">import</span> <span class="nn">Data.List</span>
<span class="kr">import</span> <span class="nn">Data.Char</span>

<span class="nf">display</span> <span class="ow">::</span> <span class="kt">String</span> <span class="ow">-&gt;</span> <span class="kt">String</span>
<span class="nf">display</span> <span class="n">word</span> <span class="ow">=</span> <span class="n">intersperse</span> <span class="n">&#39;</span> <span class="n">&#39;</span> <span class="p">[</span><span class="kr">if</span> <span class="n">c</span> <span class="p">`</span><span class="n">elem</span><span class="p">`</span> <span class="p">[</span><span class="n">&#39;a&#39;</span><span class="o">..</span><span class="n">&#39;z&#39;</span><span class="p">]</span> <span class="kr">then</span> <span class="n">&#39;_&#39;</span> <span class="kr">else</span> <span class="n">c</span> <span class="o">|</span> <span class="n">c</span> <span class="ow">&lt;-</span> <span class="n">word</span><span class="p">]</span>

<span class="nf">makeGuess</span> <span class="ow">::</span> <span class="kt">String</span> <span class="ow">-&gt;</span> <span class="kt">Char</span> <span class="ow">-&gt;</span> <span class="kt">Int</span> <span class="ow">-&gt;</span> <span class="kt">IO</span> <span class="nb">()</span>
<span class="nf">makeGuess</span> <span class="n">word</span> <span class="n">letter</span> <span class="n">guesses</span>
	<span class="o">|</span> <span class="n">letter</span> <span class="p">`</span><span class="n">elem</span><span class="p">`</span> <span class="n">word</span> <span class="ow">=</span> <span class="n">play</span> <span class="p">[</span><span class="kr">if</span> <span class="n">letter</span> <span class="o">==</span> <span class="n">c</span> <span class="kr">then</span> <span class="n">toUpper</span> <span class="n">letter</span> <span class="kr">else</span> <span class="n">c</span> <span class="o">|</span> <span class="n">c</span> <span class="ow">&lt;-</span> <span class="n">word</span><span class="p">]</span> <span class="n">guesses</span>
	<span class="o">|</span> <span class="n">otherwise</span> <span class="ow">=</span> <span class="n">play</span> <span class="n">word</span> <span class="p">(</span><span class="n">guesses</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

<span class="nf">play</span> <span class="ow">::</span> <span class="kt">String</span> <span class="ow">-&gt;</span> <span class="kt">Int</span> <span class="ow">-&gt;</span> <span class="kt">IO</span> <span class="nb">()</span>
<span class="nf">play</span> <span class="n">word</span> <span class="n">guesses</span>
	<span class="o">|</span> <span class="n">word</span> <span class="o">==</span> <span class="n">map</span> <span class="n">toUpper</span> <span class="n">word</span> <span class="ow">=</span> <span class="kr">do</span>
		<span class="n">putStrLn</span> <span class="o">$</span> <span class="n">display</span> <span class="n">word</span>
		<span class="n">putStrLn</span> <span class="s">&quot;You Win!&quot;</span>
	<span class="o">|</span> <span class="n">guesses</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">=</span> <span class="kr">do</span>
		<span class="n">putStrLn</span> <span class="o">$</span> <span class="n">display</span> <span class="n">word</span>
		<span class="n">putStrLn</span> <span class="s">&quot;You Lose...&quot;</span>
	<span class="o">|</span> <span class="n">otherwise</span> <span class="ow">=</span> <span class="kr">do</span>
		<span class="n">putStrLn</span> <span class="o">$</span> <span class="s">&quot;You have &quot;</span> <span class="o">++</span> <span class="n">show</span> <span class="n">guesses</span> <span class="o">++</span> <span class="s">&quot; guesses left.&quot;</span>
		<span class="n">putStrLn</span> <span class="o">$</span> <span class="n">display</span> <span class="n">word</span>
		<span class="n">putStr</span> <span class="s">&quot;Guess a letter: &quot;</span>
		<span class="n">hFlush</span> <span class="n">stdout</span>
		<span class="n">userGuess</span> <span class="ow">&lt;-</span> <span class="n">getLine</span>
		<span class="kr">case</span> <span class="n">userGuess</span> <span class="kr">of</span>
			<span class="n">c</span><span class="kt">:</span><span class="kr">_</span> <span class="ow">-&gt;</span> <span class="n">makeGuess</span> <span class="n">word</span> <span class="p">(</span><span class="n">toLower</span> <span class="o">$</span> <span class="n">head</span> <span class="n">userGuess</span><span class="p">)</span> <span class="n">guesses</span>
			<span class="kr">_</span> <span class="ow">-&gt;</span> <span class="n">putStrLn</span> <span class="s">&quot;Please enter a letter a-z&quot;</span> <span class="o">&gt;&gt;</span> <span class="n">play</span> <span class="n">word</span> <span class="n">guesses</span>

<span class="nf">main</span> <span class="ow">::</span> <span class="kt">IO</span> <span class="nb">()</span>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
	<span class="n">putStrLn</span> <span class="s">&quot;Welcome to Haskell Hangman!&quot;</span>
	<span class="n">putStr</span> <span class="s">&quot;Enter a word (or sentence) to guess: &quot;</span>
	<span class="n">hFlush</span> <span class="n">stdout</span>
	<span class="n">userInput</span> <span class="ow">&lt;-</span> <span class="n">getLine</span> <span class="c1">-- Get a string from user and store it in userInput</span>
	<span class="kr">case</span> <span class="n">userInput</span> <span class="kr">of</span>
		<span class="n">c</span><span class="kt">:</span><span class="kr">_</span> <span class="ow">-&gt;</span> <span class="n">play</span> <span class="p">(</span><span class="n">map</span> <span class="n">toLower</span> <span class="n">userInput</span><span class="p">)</span> <span class="mi">6</span> <span class="c1">-- This last int is the amount of wrong guesses the player will have</span>
		<span class="kr">_</span> <span class="ow">-&gt;</span> <span class="n">putStrLn</span> <span class="s">&quot;Please input at least one character!&quot;</span> <span class="o">&gt;&gt;</span> <span class="n">main</span>
	<span class="n">putStrLn</span> <span class="s">&quot;Thanks for playing!&quot;</span></code></pre></div> <p>Back when I was attempting to learn Haskell for the first time I decided that writing hangman should be a fun task to experiment with. I had written a simple hangman game in NASM (x86) assembly about a year ago at the time, and because I had spent the time to really understand the mechanics of hangman, I felt that it would be a suitable first project to make my time learning Haskell more interesting.</p> <p>It ended up taking quite a bit longer than I would have expected! After all, wrapping your head around functional programming is no easy task. I also received quite a bit of help from the kind folks at <a href="https://www.reddit.com/">r/haskell</a> towards the end in terms of polishing and condensing the script to something pictureseque I would argue!</p> <p>Functional programming is something I intend to return to at some point, once it’s fully matured. Whether or not that fully matured language is Haskell at the time or not is yet to be seen. In the meantime, however, imperative languages are still “where it’s at” if you’re trying to get things done in a reasonable time frame - At least for us mortal beings.</p> <p><a href="javascript:history.back()">Return to Last Page</a></p> </article> </div> </div> </div> </body> <div class="centered" style="margin-bottom: 1.5em;"> <img src="/images/character.svg" alt="enzor-character" width="80" id="logo"> </div> </html>
